\def\AUTHOR#1{\LONGTYPEOUT{Author: #1}}
\let\wlog\@gobble
\InputIfFileExists{ts1cmr.fd}{}{}

\ExplSyntaxOn
% With the new mark mechanism, commands that retrieve marks are only meaningful
% inside the output routine, see texdoc ltmarks-doc, doc for \TopMark, etc.
\cs_new_protected:Npn \CTEXTestMark #1#2
  {
    \hook_gput_next_code:nn {build/page/after}
      {
        \TIMO
        \TEST {#1}
          {
            \protected@edef \l_tmpa_tl {#2}
            \exp_args:No \tl_log:n { \l_tmpa_tl }
          }
        \OMIT
      }
  }

% manually update \@outputpage for uplatex, which hadn't adapted its
% redefinition for LaTeX2e 2025-06-01 yet
% tracking issue https://github.com/texjporg/platex/issues/102
\sys_if_engine_uptex:T
  {
    \exp_args:No \tl_if_head_eq_meaning:nNT { \@outputpage } \begingroup
      {
        \cs_set:Npe \@outputpage
          {
            \UseHook {build/page/before}
            \exp_not:o { \@outputpage }
            \UseHook {build/page/after}
          }
      }
  }
\ExplSyntaxOff
