% ctex-cjk-engine.sty

\ProvidesFile{ctex-cjk-engine.sty}
  [2009/05/07 v0.9 ctex
   document class option]

\ifCTEX@GBK
  \RequirePackage{CJK}[2003/03/28]
\else
  \RequirePackage{CJKutf8}[2003/03/28]
\fi
\RequirePackage{CJKnumb}[2003/03/28]

\ifCTEX@punct
  \RequirePackage{CJKpunct}[2009/05/06]
% see also: c19rm.fd
  \CJKpunctmapfamily{C19}{rm}{m}{n}{song}
  \CJKpunctmapfamily{C19}{rm}{b}{n}{hei}
  \CJKpunctmapfamily{C19}{rm}{bx}{n}{hei}
  \CJKpunctmapfamily{C19}{rm}{m}{sl}{song}
  \CJKpunctmapfamily{C19}{rm}{b}{sl}{hei}
  \CJKpunctmapfamily{C19}{rm}{bx}{sl}{hei}
  \CJKpunctmapfamily{C19}{rm}{m}{it}{kai}
  \CJKpunctmapfamily{C19}{rm}{b}{it}{kei}
  \CJKpunctmapfamily{C19}{rm}{bx}{it}{kai}
% see also: c19sf.fd
  \CJKpunctmapfamily{C19}{sf}{m}{n}{you}
  \CJKpunctmapfamily{C19}{sf}{b}{n}{you}
  \CJKpunctmapfamily{C19}{sf}{bx}{n}{you}
  \CJKpunctmapfamily{C19}{sf}{m}{sl}{you}
  \CJKpunctmapfamily{C19}{sf}{b}{sl}{you}
  \CJKpunctmapfamily{C19}{sf}{bx}{sl}{you}
  \CJKpunctmapfamily{C19}{sf}{m}{it}{you}
  \CJKpunctmapfamily{C19}{sf}{b}{it}{you}
  \CJKpunctmapfamily{C19}{sf}{bx}{it}{you}
% see also: c19tt.fd
  \CJKpunctmapfamily{C19}{tt}{m}{n}{fs}
  \CJKpunctmapfamily{C19}{tt}{b}{n}{fs}
  \CJKpunctmapfamily{C19}{tt}{bx}{n}{fs}
  \CJKpunctmapfamily{C19}{tt}{m}{sl}{fs}
  \CJKpunctmapfamily{C19}{tt}{b}{sl}{fs}
  \CJKpunctmapfamily{C19}{tt}{bx}{sl}{fs}
  \CJKpunctmapfamily{C19}{tt}{m}{it}{fs}
  \CJKpunctmapfamily{C19}{tt}{b}{it}{fs}
  \CJKpunctmapfamily{C19}{tt}{bx}{it}{fs}
% see also: c70rm.fd
  \CJKpunctmapfamily{C70}{rm}{m}{n}{song}
  \CJKpunctmapfamily{C70}{rm}{b}{n}{hei}
  \CJKpunctmapfamily{C70}{rm}{bx}{n}{hei}
  \CJKpunctmapfamily{C70}{rm}{m}{sl}{song}
  \CJKpunctmapfamily{C70}{rm}{b}{sl}{hei}
  \CJKpunctmapfamily{C70}{rm}{bx}{sl}{hei}
  \CJKpunctmapfamily{C70}{rm}{m}{it}{kai}
  \CJKpunctmapfamily{C70}{rm}{b}{it}{kei}
  \CJKpunctmapfamily{C70}{rm}{bx}{it}{kai}
% see also: c70sf.fd
  \CJKpunctmapfamily{C70}{sf}{m}{n}{you}
  \CJKpunctmapfamily{C70}{sf}{b}{n}{you}
  \CJKpunctmapfamily{C70}{sf}{bx}{n}{you}
  \CJKpunctmapfamily{C70}{sf}{m}{sl}{you}
  \CJKpunctmapfamily{C70}{sf}{b}{sl}{you}
  \CJKpunctmapfamily{C70}{sf}{bx}{sl}{you}
  \CJKpunctmapfamily{C70}{sf}{m}{it}{you}
  \CJKpunctmapfamily{C70}{sf}{b}{it}{you}
  \CJKpunctmapfamily{C70}{sf}{bx}{it}{you}
% see also: c70tt.fd
  \CJKpunctmapfamily{C70}{tt}{m}{n}{fs}
  \CJKpunctmapfamily{C70}{tt}{b}{n}{fs}
  \CJKpunctmapfamily{C70}{tt}{bx}{n}{fs}
  \CJKpunctmapfamily{C70}{tt}{m}{sl}{fs}
  \CJKpunctmapfamily{C70}{tt}{b}{sl}{fs}
  \CJKpunctmapfamily{C70}{tt}{bx}{sl}{fs}
  \CJKpunctmapfamily{C70}{tt}{m}{it}{fs}
  \CJKpunctmapfamily{C70}{tt}{b}{it}{fs}
  \CJKpunctmapfamily{C70}{tt}{bx}{it}{fs}
\fi

\AtEndOfPackage{\CJK@makeActive}

\ifCTEX@space
  \ifCTEX@GBK
    \def\CTEX@beginCJK{\begin{CJK}{GBK}{rm}}
  \else
    \def\CTEX@beginCJK{\begin{CJK}{UTF8}{rm}}
  \fi
  \def\CTEX@endCJK{\clearpage\end{CJK}}
\else
  \ifCTEX@GBK
    \def\CTEX@beginCJK{\begin{CJK*}{GBK}{rm}\CJKtilde}
  \else
    \def\CTEX@beginCJK{\begin{CJK*}{UTF8}{rm}\CJKtilde}
  \fi
  \def\CTEX@endCJK{\clearpage\end{CJK*}}
\fi

\let\CTEX@begindocumenthook\@begindocumenthook
\let\CTEX@enddocumenthook\@enddocumenthook
\def\AtBeginDocument{\g@addto@macro\CTEX@begindocumenthook}
\def\AtEndDocument{\g@addto@macro\CTEX@enddocumenthook}
\def\@begindocumenthook{\CTEX@begindocumenthook\CTEX@beginCJK}
\def\@enddocumenthook{\CTEX@endCJK\CTEX@enddocumenthook}

\input{ctex-cjk-common.sty}

\endinput

