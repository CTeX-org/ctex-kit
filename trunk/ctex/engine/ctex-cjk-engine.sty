% ctex-cjk-engine.sty

\ProvidesFile{ctex-cjk-engine.sty}
  [2009/05/05 v0.9 ctex
   document class option]

\RequirePackage{CJK}[2003/03/28]
\RequirePackage{CJKnumb}[2003/03/28]

\ifCTEX@punct
  \RequirePackage{CJKpunct}[2004/02/13]
\fi

\AtEndOfPackage{\CJK@makeActive}

\ifCTEX@space
  \def\CTEX@beginCJK{\begin{CJK}{GBK}{rm}}
  \def\CTEX@endCJK{\clearpage\end{CJK}}
\else
  \def\CTEX@beginCJK{\begin{CJK*}{GBK}{rm}\CJKtilde}
  \def\CTEX@endCJK{\clearpage\end{CJK*}}
\fi

\let\CTEX@begindocumenthook\@begindocumenthook
\let\CTEX@enddocumenthook\@enddocumenthook
\def\AtBeginDocument{\g@addto@macro\CTEX@begindocumenthook}
\def\AtEndDocument{\g@addto@macro\CTEX@enddocumenthook}
\def\@begindocumenthook{\CTEX@begindocumenthook\CTEX@beginCJK}
\def\@enddocumenthook{\CTEX@endCJK\CTEX@enddocumenthook}

\let\CTEXglue\CJKoglue
\input{ctex-cjk-common.sty}

\endinput

